(this.webpackJsonptambola=this.webpackJsonptambola||[]).push([[0],{46:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},86:function(e,t){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),o=a.n(s);function l(e,t){return Math.floor(Math.random()*(t-e+1))+e}function c(e){for(var t=0,a=0;a<e.length;++a)t+=e[a].length;return t}function i(e,t){for(var a=0,n=0;n<e[t].length;++n)0!==e[t][n]&&++a;return a}function u(e,t){for(var a=0;a<9;++a)if(3===e[a].length)for(var n=0;n<3;++n)t[n][a]=e[a][n];for(var r=0,s=[],o=0;o<9;++o)2===e[o].length&&s.push(o);for(var c=s.length,u=0;u<c;++u){var m=l(0,s.length-1),h=s[m],d=[[0,1],[0,2],[1,2]][r%3];t[d[0]][h]=e[h][0],t[d[1]][h]=e[h][1],s.splice(m,1),++r}for(var p=0;p<9;++p)if(1===e[p].length){for(var b=l(0,2);0!==t[b][p]||5===i(t,b);)b=l(0,2);t[b][p]=e[p][0]}return t}function m(e){for(var t=function(){for(var e=[],t=[],a=[],n=[],r=[],s=[],o=[],i=[],u=[],m=1;m<=9;++m)e.push(m);for(var h=10;h<=19;++h)t.push(h);for(var d=20;d<=29;++d)a.push(d);for(var p=30;p<=39;++p)n.push(p);for(var b=40;b<=49;++b)r.push(b);for(var v=50;v<=59;++v)s.push(v);for(var f=60;f<=69;++f)o.push(f);for(var y=70;y<=79;++y)i.push(y);for(var g=80;g<=90;++g)u.push(g);for(var w=[e,t,a,n,r,s,o,i,u],k=[],E=[],N=[],S=[],C=[],O=[],T=0;T<9;++T)k.push([]),E.push([]),N.push([]),S.push([]),C.push([]),O.push([]);for(var j=[k,E,N,S,C,O],W=0;W<9;++W)for(var A=w[W],H=0;H<6;++H){var B=l(0,A.length-1),P=A[B];j[H][W].push(P),A.splice(B,1)}var x=w[w.length-1],M=l(0,x.length-1),F=x[M];j[l(0,j.length-1)][8].push(F),x.splice(M,1);for(var R=0;R<3;++R)for(var G=0;G<9;++G){var D=w[G];if(0!==D.length)for(var I=l(0,D.length-1),_=D[I],z=!1;!1===z;){var L=j[l(0,j.length-1)];15!==c(L)&&2!==L[G].length&&(z=!0,L[G].push(_),D.splice(I,1))}}for(var Y=0;Y<9;++Y){var U=w[Y];if(0!==U.length)for(var V=l(0,U.length-1),q=U[V],K=!1;!1===K;){var J=j[l(0,j.length-1)];15!==c(J)&&3!==J[Y].length&&(K=!0,J[Y].push(q),U.splice(V,1))}}for(var Q=0;Q<6;++Q)for(var X=0;X<9;++X)j[Q][X].sort((function(e,t){return e-t}));return j}(),a=function(){for(var e=[],t=0;t<6;++t){for(var a=[],n=0;n<3;++n)a.push([0,0,0,0,0,0,0,0,0]);e[t]=a}return console.log("houses",e),e}(),n=0;n<e;++n)u(t[n],a[n]);for(var r=[],s=0;s<e;++s){for(var o=[],i=0;i<3;++i){for(var m=[],h=0;h<9;++h)m[h]={value:a[s][i][h],check:!1};o[i]=m}r[s]=o}return r}var h=function(e){return e.preventDefault(),e.returnValue="All the game state will be lost. Are you sure you want to leave?","All the game state will be lost. Are you sure you want to leave?"},d=(a(55),a(2)),p=a(3),b=a(5),v=a(4),f=(a(56),a(47)),y=a.n(f),g=a(29);var w=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("table",{className:"config-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"award-name-heading"}," Award Name "),r.a.createElement("th",{className:"award-number-heading"}," How Many? "),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.awards.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"award-name"},r.a.createElement("input",{type:"text",name:"nameAward",placeholder:"Enter Award Name",value:e.awards[a].nameAward,onChange:e.handleChangeHost(a)})),r.a.createElement("td",{className:"award-number"},r.a.createElement("input",{type:"number",name:"numAward",placeholder:"Enter Number of Awards",min:"1",value:e.awards[a].numAward,onChange:e.handleChangeHost(a)})),r.a.createElement("td",{className:"cross-button"},r.a.createElement("button",{className:"btn",type:"button",onClick:e.handleRemoveSpecificRow(a)},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon s-ion-icon",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})))))})))),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("button",{className:"add-row btn btn__primary",type:"button",onClick:e.handleAddRow},"Add Award"),r.a.createElement("button",{className:"start-game btn",type:"submit"},"Start Game")))},k=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).clickHandler=function(){var e=!n.state.check;n.setState({check:e,value:n.state.value}),void 0!==n.props.changeTicketState&&void 0!==n.props.index&&n.props.changeTicketState(n.props.index,e)},n.state={value:n.props.value,check:void 0!==n.props.check&&n.props.check},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){e.check!==this.props.check&&this.props.check&&this.setState({check:this.props.check})}},{key:"render",value:function(){var e=this.state.check?"checked":"unchecked";return n.createElement("div",{className:"box ".concat(this.state.check?"boxchecked":"boxunchecked"),onClick:this.clickHandler},n.createElement("div",{className:e}),n.createElement("div",{className:e}),n.createElement("p",null,0===this.props.value?"":this.props.value))}}]),a}(n.Component),E=function(e){var t=e.numbers.map((function(e){return n.createElement(k,{value:e.value,check:e.check})}));return n.createElement("div",{className:"board-line"},t)},N=a(18);var S=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).reward=void 0,n.deleteNotification=function(){n.setState({notificationObj:null});var e=document.getElementById("ticket-board-container");e&&e.setAttribute("style","opacity: 1")},n.state={notificationObj:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("ticket-board-container");this.props.socket.on("callWinToHost",(function(a){e.reward.rewardMe(),e.setState({notificationObj:a}),null===t||void 0===t||t.setAttribute("style","opacity:0.2;"),setTimeout((function(){e.deleteNotification()}),5e3)})),this.props.socket.on("resultsForPC",(function(a){e.reward.rewardMe(),e.setState({notificationObj:a}),null===t||void 0===t||t.setAttribute("style","opacity:0.2;"),setTimeout((function(){e.deleteNotification()}),5e3)}))}},{key:"render",value:function(){var e,t=this,a=this.state.notificationObj?n.createElement("div",{className:"notification-container"},n.createElement("div",{className:"notification"},n.createElement("p",{className:"main animated rubberBand"},void 0!==(e=this.state.notificationObj).result?e.result+" "+e.callWinType:"Call: "+e.callWinType),n.createElement("p",{className:"sub animated bounce"},function(e){return e.calledWinUsername||e.user.username}(this.state.notificationObj)))):null;return n.createElement(n.Fragment,null,a,n.createElement(N.a,{ref:function(e){t.reward=e},type:"confetti",config:{elementCount:100,angle:90,spread:90,decay:.95,lifetime:150}}))}}]),a}(n.Component),C=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={message:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("callWinToHost",(function(t){"Host"===e.props.playerType?e.setState({message:"Other players are waiting on you to check tickets"}):e.setState({message:"Waiting for host to check the player tickets"})})),this.props.socket.on("hostCompletedChecking",(function(){e.setState({message:""})}))}},{key:"render",value:function(){return n.createElement("p",{className:"waiting"},this.state.message)}}]),a}(n.Component),O=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).interval=void 0,n.updateTimer=function(){var e=n.state.seconds;e>=1&&(n.setState({seconds:e-1}),1===e&&n.props.endGame())},n.state={seconds:10,hasGameEnded:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.updateTimer()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e="";return this.state.seconds>0&&(e="animated infinite bounceIn"),n.createElement("div",{className:"game-over"},n.createElement("p",null,"Game will be over in:"),n.createElement("p",{className:"timer "+e},this.state.seconds))}}]),a}(n.Component);function T(e){for(var t=[],a=0;a<10;++a)t[a]={value:e+a,check:!1};return t}function j(){for(var e=[],t=0;t<9;++t)e[t]=T(10*t+1);return e}var W=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;Object(d.a)(this,a),(n=t.call(this,e)).handleNewNumber=function(e){var t=e%10===0?9:e%10-1,a=e%10===0?e/10-1:Math.floor(e/10),r=n.state.allBoardNumbers;r[a][t]={value:e,check:!0},n.setState({allBoardNumbers:r,goneNumbers:n.state.goneNumbers+1})};var r=function(e){var t,a,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e}(function(){for(var e=[],t=0;t<90;++t)e[t]=t+1;return e}());return n.state={shuffledBoardNumbers:r,goneNumbers:0,allBoardNumbers:j(),showTimer:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("showTimer",(function(){var t=document.querySelector("button.new-number");t.disabled=!0,t.classList.add("disabled-button"),e.setState({showTimer:!0})})),this.props.socket.on("callWinToHost",(function(){!0===e.state.showTimer&&e.setState({showTimer:!1})}))}},{key:"render",value:function(){var e=this,t=null;this.state.showTimer&&(t=n.createElement(O,{socket:this.props.socket,endGame:this.props.endGame}));var a=0,r=function(e){for(var t=[],a=0;a<e.length;++a)t.push(n.createElement(E,{key:a,index:a,numbers:e[a]}));return t}(this.state.allBoardNumbers);return n.createElement("div",{className:"board-component-main"},n.createElement("button",{className:"new-number btn btn__primary",onClick:function(){a=e.state.shuffledBoardNumbers[e.state.goneNumbers],e.handleNewNumber(a),e.props.socket.emit("newNumber",a)}},"Generate New"),n.createElement("div",null,n.createElement("div",{className:"new-number-host-container"},n.createElement("p",{className:"new-number-host"},this.state.shuffledBoardNumbers[this.state.goneNumbers-1]?this.state.shuffledBoardNumbers[this.state.goneNumbers-1]:""))),t,n.createElement(C,{socket:this.props.socket,playerType:"Host"}),n.createElement("div",{className:"notification-parent"},n.createElement("div",{id:"ticket-board-container",className:"no-click"},r),n.createElement(S,{socket:this.props.socket,type:"host"})))}}]),a}(n.Component);var A=function(e){var t=function(e,t){for(var a=[],r=0;r<e.length;++r)a[r]=n.createElement(k,{key:r,value:e[r].value,check:e[r].check,changeTicketState:t,index:r});return a}(e.numbers,(function(t,a){e.changeTicketState(e.index,t,a)}));return n.createElement("div",{className:"line"},t)};var H=function(e){var t=function(t,a,n){e.changeTicketState(e.houseIndex,t,a,n)};return n.createElement("div",null,n.createElement(A,{key:0,index:0,numbers:e.houseNumbers[0],changeTicketState:t}),n.createElement(A,{key:1,index:1,numbers:e.houseNumbers[1],changeTicketState:t}),n.createElement(A,{key:2,index:2,numbers:e.houseNumbers[2],changeTicketState:t}))};var B=function(e){for(var t=function(t,a,n,r){e.changeTicketState&&e.changeTicketState(t,a,n,r)},a=[],r=0;r<e.numHouses;++r)a[r]=n.createElement(n.Fragment,null,n.createElement(H,{key:r,changeTicketState:t,houseNumbers:e.houses[r],houseIndex:r}),n.createElement("br",null));return n.createElement("div",null,a)},P=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(d.a)(this,a),(r=t.call(this,e)).awardButtons=void 0,r.awardButtons=[];for(var s=function(e){r.awardButtons.push(n.createElement("button",{className:"btn btn__primary",key:e,onClick:function(){r.props.winCallBack(r.props.awards[e].nameAward)}},r.props.awards[e].nameAward))},o=0;o<r.props.awards.length;++o)s(o);return r}return Object(p.a)(a,[{key:"render",value:function(){return n.createElement("div",{className:"winning-buttons"},this.awardButtons)}}]),a}(n.Component),x=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={isShown:!1},n}return Object(p.a)(a,[{key:"render",value:function(){for(var e=[],t=this.props.numbers.length-1;t>=0;--t)e.push(n.createElement("p",{key:t},this.props.numbers[t]));return n.createElement(n.Fragment,null,e.length>0?n.createElement("div",{className:"gone-numbers-container"},n.createElement("button",{className:"btn ".concat(e.length>0?"fillmaincomp":"emptymaincomp"),id:"gone-numbers-button",onClick:function(){var e=document.getElementById("gone-numbers-menu"),t=document.getElementById("gone-numbers-button");null!==e&&null!==t&&("none"!==window.getComputedStyle(e).getPropertyValue("display")?(e.style.display="none",t.innerHTML="Gone Numbers"):(e.style.display="block",e.classList.add("animated","fadeIn"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" className="ionicon s-ion-icon" viewBox="0 0 512 512"><path d="M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"></path></svg>'))}},"Gone Numbers"),n.createElement("div",{id:"gone-numbers-menu"},e)):null)}}]),a}(n.Component),M=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).goneNumbers=void 0,n.generateRandomKey=function(){return 1e4*Math.random()},n.state={newNumber:0},n.goneNumbers=[],n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("newNumberFromHost",(function(t){e.goneNumbers.push(t.newNumber),e.setState({newNumber:t.newNumber})}))}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"homeclick"},n.createElement("a",{href:"/",style:{color:"#000000",textDecoration:"none"},title:"exit"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},n.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),n.createElement("path",{d:"M10.79 16.29c.39.39 1.02.39 1.41 0l3.59-3.59c.39-.39.39-1.02 0-1.41L12.2 7.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L12.67 11H4c-.55 0-1 .45-1 1s.45 1 1 1h8.67l-1.88 1.88c-.39.39-.38 1.03 0 1.41zM19 3H5c-1.11 0-2 .9-2 2v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1v3c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))),n.createElement("span",{className:"usernamehead"},"Hi, ",this.props.name),n.createElement("p",{className:"new-number-player"},"New Number "),n.createElement("div",{className:"wrapgennumber"},n.createElement("div",{key:this.generateRandomKey(),className:"new-number-player-container custom-pulse"},n.createElement("p",{className:"only-new-number-player"},this.state.newNumber?this.state.newNumber:"")),n.createElement("span",{className:"circle__back-1"}),n.createElement("span",{className:"circle__back-2"})),n.createElement(x,{numbers:this.goneNumbers}))}}]),a}(n.Component),F=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).houses=void 0,r.changeTicketState=function(e,t,a,n){var s=r.houses[e][t][a].value;r.houses[e][t][a]={value:s,check:n},console.log("here it is after changing",r.houses)},r.handleWinningCall=function(e){r.props.socket.emit("callWinFromPC",{callWinType:e,houses:r.houses})},r.winningButtons=n.createElement(P,{key:0,awards:r.props.awards,winCallBack:r.handleWinningCall}),r.houses=m(r.props.numHouses),r.state={showTimer:!1},r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("showTimer",(function(){e.setState({showTimer:!0})})),this.props.socket.on("callWinToHost",(function(){!0===e.state.showTimer&&e.setState({showTimer:!1})}))}},{key:"render",value:function(){var e=null;return this.state.showTimer&&(e=n.createElement(O,{socket:this.props.socket,endGame:this.props.endGame})),n.createElement("div",{className:"pc-ticket"},n.createElement(M,{socket:this.props.socket,name:this.props.name}),e,n.createElement(C,{playerType:"PC",socket:this.props.socket}),n.createElement("div",{className:"notification-parent"},n.createElement("div",{id:"ticket-board-container"},n.createElement(B,{houses:this.houses,changeTicketState:this.changeTicketState,numHouses:this.props.numHouses})),n.createElement(S,{socket:this.props.socket,type:"Pc"})),this.winningButtons)}}]),a}(n.Component),R=a(50);var G=function(e){return n.createElement("div",{className:"result-buttons"},n.createElement("button",{className:"btn btn__primary",onClick:function(){e.resultCallback(e.win)}},e.win),n.createElement("button",{className:"btn",onClick:function(){e.resultCallback(e.bogey)}},e.bogey))};var D=function(e){var t=n.createElement("div",{className:"host-ticket"},n.createElement("br",null),n.createElement("p",{className:"win-call-type"},e.callWinObj.callWinType),n.createElement("p",{className:"player-name"},e.callWinObj.user.username,"'s Ticket"),n.createElement("div",{className:"no-click"},n.createElement(B,{houses:e.callWinObj.houses,numHouses:e.callWinObj.houses.length})),n.createElement(G,{key:0,win:"Confirm Win!",bogey:"Bogey!",resultCallback:function(t){e.socket.emit("resultsFromHost",{result:t,callWinType:e.callWinObj.callWinType,userCalledForWin:e.callWinObj.user}),e.removeTicketFromHost(e.callWinObj.user.id+e.callWinObj.callWinType)}}));return n.createElement(n.Fragment,null,t)},I=a(19),_=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).hasWalkthroughShown=void 0,n.walkThroughSteps=[{target:".host-ticket",content:"This is the player's ticket. They think they have won this award. Your task is to check the 'crossed' numbers on this ticket and tell the players if this is a valid win or a Bogey!",disableBeacon:!0,placement:"bottom",disableOverlay:!0}],n.removeTicket=function(e){var t=n.state.ticketFromPlayers;if(delete t[e],n.setState({ticketFromPlayers:t}),0===Object.keys(t).length&&t.constructor===Object){var a=document.querySelector("button.new-number");a.disabled=!1,a.classList.remove("disabled-button"),n.props.socket.emit("hostCompletedChecking")}},n.state={ticketFromPlayers:{},runWalkthrough:!1},n.hasWalkthroughShown=!n.props.showWalkthrough,n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("callWinToHost",(function(t){var a=e.state.ticketFromPlayers,n=!e.hasWalkthroughShown;a[t.user.id+t.callWinType]=t,e.setState({ticketFromPlayers:a,runWalkthrough:n});var r=document.querySelector("button.new-number");r.disabled=!0,r.classList.add("disabled-button")}))}},{key:"render",value:function(){for(var e=[],t=0,a=Object.entries(this.state.ticketFromPlayers);t<a.length;t++){var r=Object(R.a)(a[t],2),s=r[0],o=r[1],l=n.createElement(D,{key:s,socket:this.props.socket,callWinObj:o,removeTicketFromHost:this.removeTicket});e.push(l)}return n.createElement(n.Fragment,null,e,n.createElement(I.a,{steps:this.walkThroughSteps,run:this.state.runWalkthrough,continuous:!0,disableOverlayClose:!0,showProgress:!0,showSkipButton:!0,spotlightClicks:!0,styles:{options:{zIndex:1e4,primaryColor:"#0e141f",textColor:"#0e141f"}}}))}}]),a}(n.Component),z=(a(94),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).newNumber=0,n.state={remainingAwards:n.props.awards,whoWonWhat:{}},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("newNumberFromHost",(function(t){e.newNumber=t.newNumber;for(var a=0;a<e.state.remainingAwards.length;++a)if(0===parseInt(e.state.remainingAwards[a].numAward)){var n=document.querySelector(".winning-buttons button:nth-child(".concat(a+1,")"));n&&(n.disabled=!0,n.classList.add("disabled-button"))}})),this.props.socket.on("hostCompletedChecking",(function(){for(var t=!1,a=0;a<e.state.remainingAwards.length;++a)parseInt(e.state.remainingAwards[a].numAward)>0&&(t=!0);t||"Host"!==e.props.playerType||e.props.socket.emit("showTimer")})),this.props.socket.on("resultsForPC",(function(t){if("Confirm Win!"===t.result){for(var a=e.state.remainingAwards,n=e.state.whoWonWhat,r=0;r<a.length;++r)if(a[r].nameAward===t.callWinType)if(void 0===n[t.callWinType]&&(n[t.callWinType]={}),void 0===n[t.callWinType][e.newNumber]){n[t.callWinType][e.newNumber]=[t.calledWinUsername];var s=parseInt(a[r].numAward);--s,a[r].numAward=s.toString()}else n[t.callWinType][e.newNumber].push(t.calledWinUsername);e.setState({remainingAwards:a,whoWonWhat:n})}}))}},{key:"render",value:function(){for(var e=n.createElement("span",{className:"zero-awards-left"},"x0"),t=[],a=0;a<this.state.remainingAwards.length;++a){var r=[];for(var s in this.state.whoWonWhat[this.state.remainingAwards[a].nameAward])this.state.whoWonWhat[this.state.remainingAwards[a].nameAward].hasOwnProperty(s)&&r.push(this.state.whoWonWhat[this.state.remainingAwards[a].nameAward][s].join(" | "));t.push(r.join(", "))}for(var o=[],l=0;l<this.state.remainingAwards.length;++l)o.push(n.createElement("tr",{key:l},n.createElement("td",{className:"award"},this.state.remainingAwards[l].nameAward),n.createElement("td",{className:"left"},"0"===this.state.remainingAwards[l].numAward?e:"x"+this.state.remainingAwards[l].numAward),n.createElement("td",{className:"won-by"},t[l])));return n.createElement("div",{className:"prizes-container"},n.createElement("p",{className:"award-status"},"Award Status"),n.createElement("table",{className:"prizes"},n.createElement("tr",null,n.createElement("th",{className:"award"},"Award"),n.createElement("th",{className:"left"},"Left"),n.createElement("th",{className:"won-by"},"Won By")),o))}}]),a}(n.Component)),L=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(d.a)(this,a),(r=t.call(this,e)).diffTypeSteps=void 0;var s=[{target:".snackbar",content:n.createElement(n.Fragment,null,n.createElement("h3",null,"You are the host!"),n.createElement("p",null,"Share this link with your friends so that they can play in this game created by you.")),disableBeacon:!0},{target:".config-table",content:"You can use this section to add, delete or customize awards",disableBeacon:!0},{target:".ready-players-container",content:"You will see all players and their status in the game here.",disableBeacon:!0},{target:".start-game",content:"Click this button after all players have joined to start the game.",disableBeacon:!0,spotlightClicks:!1}];return r.diffTypeSteps={config:{PC:[{target:"#pc-config-table > tbody > tr:nth-child(1) > td:nth-child(2) > input[type=number]",content:"Select the number of tickets you want to play with.",disableBeacon:!0},{target:"button.ready",content:'Click this button to mark yourself "Ready" after you select the number of tickets you want to play with.',disableBeacon:!0},{target:".ready-players-container",content:"You will see all players and their status in the game here.",disableBeacon:!0}],Host:s},game:{PC:[{target:".new-number-player-container",content:"The new random number called by the host will be shown here",disableBeacon:!0},{target:"#gone-numbers-button",content:"To view all the previous numbers, click this button.",disableBeacon:!0},{target:"#ticket-board-container",content:"This is your Tambola ticket. You can cross a number if it matches the called number.",disableBeacon:!0},{target:".winning-buttons",content:"If you think you are winning an award, call for that award using these buttons. Your ticket will then be checked by the host for a Bogey!",disableBeacon:!0},{target:"table.prizes",content:"Remaining awards and winners will be shown here.",disableBeacon:!0}],Host:[{target:".new-number",content:"Clicking this generates a new random number which will be displayed on every player's screen.",disableBeacon:!0},{target:"table.prizes",content:"Remaining awards and winners will be shown here.",disableBeacon:!0}]}},r}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){console.log("componendidupdate called with run ",this.props.runWalkthrough),this.props.runWalkthrough!==e.runWalkthrough&&this.setState({run:this.props.runWalkthrough})}},{key:"render",value:function(){var e=this.props.playerType,t=this.props.type,a=this.diffTypeSteps[t][e];return n.createElement(n.Fragment,null,n.createElement(I.a,{steps:a,run:this.props.runWalkthrough,continuous:!0,disableOverlayClose:!0,showProgress:!0,showSkipButton:!0,spotlightClicks:!0,styles:{options:{zIndex:1e4,primaryColor:"#0e141f",textColor:"#0e141f"}}}))}}]),a}(n.Component),Y=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).ticketFromPlayer=void 0,n.winningCallFromPlayer=void 0,n.userCalledForWin=void 0,n.reward=void 0,n.endGame=function(){n.setState({hasGameEnded:!0}),n.reward.rewardMe(),window.removeEventListener("beforeunload",h);var e=0,t=setInterval((function(){n.reward.rewardMe(),4===++e&&clearInterval(t)}),2e3)},n.state={hasGameEnded:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=null,a=null,r="";return this.state.hasGameEnded&&(r="game-ended no-click",a=n.createElement("div",{className:"gameovermain"},n.createElement("p",{className:"game-over animated rubberBand"},"Game Over")," ",n.createElement("a",{href:"/",style:{color:"white"}},n.createElement("button",{className:"btn btn__primary"},"New Game")))),"PC"===this.props.type?t=n.createElement("div",{className:"everything-but-prizes"},n.createElement(L,{type:"game",playerType:"PC",runWalkthrough:this.props.runWalkthrough}),n.createElement("div",{className:r},n.createElement(F,{socket:this.props.socket,numHouses:this.props.numHouses,awards:this.props.awards,endGame:this.endGame,name:this.props.name})),a):"Host"===this.props.type&&(t=n.createElement("div",{className:"everything-but-prizes"},n.createElement(L,{type:"game",playerType:"Host",runWalkthrough:this.props.runWalkthrough}),n.createElement("div",{className:r},n.createElement(W,{socket:this.props.socket,endGame:this.endGame}),n.createElement(_,{socket:this.props.socket,showWalkthrough:this.props.runWalkthrough})),a)),n.createElement(n.Fragment,null,n.createElement("div",{className:"main-container"},t,n.createElement(z,{socket:this.props.socket,awards:this.props.awards,playerType:this.props.type,endGame:this.endGame})),n.createElement("div",{className:"game-over-reward"},n.createElement(N.a,{ref:function(t){e.reward=t},type:"confetti",config:{elementCount:90,angle:70,spread:70,decay:.95,lifetime:100}})))}}]),a}(n.Component);var U=function(e){for(var t=n.createElement("span",{className:"checkmark"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n.createElement("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}))),a=[],r=null,s=0;s<e.players.length;++s)a.push(n.createElement("tr",{key:s},n.createElement("td",null,e.players[s].user.username),n.createElement("td",null,e.players[s].numTickets),n.createElement("td",null,e.players[s].ready?t:n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon s-ion-icon",viewBox:"0 0 512 512"},n.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})))));return r=0===a.length?n.createElement("p",{style:{color:"#000000",marginLeft:"0.75rem"}},"Waiting for other players to join..."):null,n.createElement("div",{className:"ready-players-container"},n.createElement("h1",{className:"players-in-game"},"Players in Game"),n.createElement("table",{className:"ready-players"},n.createElement("tr",null,n.createElement("th",null,"Name"),n.createElement("th",null,"# of Tickets"),n.createElement("th",null,"Ready")),a),r)},V=(a(46),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCopyUrl=function(){var e=document.createElement("input"),t=window.location.pathname.split("/game/")[1];document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),n.setState({hidden:!0})},n.state={hidden:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e;return e=!0===this.state.hidden?"animated bounceOutUp":"animated bounceInDown",n.createElement("div",{className:e},n.createElement("div",{className:"snackbar"},n.createElement("p",{className:"snackbar-text"},this.props.message),n.createElement("button",{className:"snackbar-action btn btn__primary",onClick:this.handleCopyUrl},this.props.actionText)))}}]),a}(n.Component)),q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={isShown:n.props.isShown},n}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this,a="flex";return e=!1===this.props.isShown?"animated bounceOutRight":"animated bounceInRight",this.props.initiallyHidden&&(a="none"),n.createElement("div",{className:e},n.createElement("div",{className:"snackbar",style:{display:a}},n.createElement("p",{className:"snackbar-text"},this.props.message),n.createElement("button",{className:"btn",onClick:function(){t.props.handleClose()}},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon s-ion-icon",viewBox:"0 0 512 512"},n.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})))))}}]),a}(n.Component),K=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).hideToastInitially=void 0,r.handlleHostConfigDone=function(){r.state.isModalOpen&&r.setState({isModalOpen:!1}),r.props.socket.emit("HostConfigDone",r.state.awards),console.log("config submitted from host",r.state.awards)},r.handleChangeHost=function(e){return function(t){var a=t.target,n=a.name,s=a.value,o=r.state.awards;o[e][n]=s,r.setState({awards:o})}},r.handleAddRow=function(){r.setState({awards:[].concat(Object(g.a)(r.state.awards),[{nameAward:"",numAward:""}])})},r.handleRemoveRow=function(){r.setState({awards:r.state.awards.slice(0,-1)})},r.handleRemoveSpecificRow=function(e){return function(){var t=Object(g.a)(r.state.awards);t.splice(e,1),r.setState({awards:t})}},r.handleChangePC=function(e){var t=e.target.value;"PC"===r.state.type&&r.setState({numHouses:t})},r.handleSubmit=function(e){if(r.setState({readyClient:!0}),"Host"===r.state.type)if(r.state.PcsStatus.length>0){for(var t=!0,a=0;a<r.state.PcsStatus.length;++a)r.state.PcsStatus[a].ready||(t=!1);t?r.handlleHostConfigDone():r.setState({isModalOpen:!0})}else r.hideToastInitially=!1,r.setState({isToastOpen:!0});else"PC"===r.state.type&&r.props.socket.emit("PcReady",r.state.numHouses);e.preventDefault()},r.loopfun=function(e){for(var t=[],a=0;a<e;a++)t.push(n.createElement("li",null));return t},r.state={type:"",numHouses:1,readyHost:!1,readyClient:!1,PcsStatus:[],isModalOpen:!1,isToastOpen:!1,watchTutorialModal:!0,runWalkthrough:!1,hasGameAlreadyStarted:!1,awards:[{nameAward:"First Line",numAward:"1"},{nameAward:"Second Line",numAward:"1"},{nameAward:"Third Line",numAward:"1"},{nameAward:"Corners",numAward:"1"},{nameAward:"Full House",numAward:"1"}],hostDisconnected:!1},r.hideToastInitially=!0,r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.substr(window.location.pathname.lastIndexOf("/")+1);this.props.socket.emit("joinRoom",{room:t,username:this.props.name}),this.props.socket.on("gameHasAlreadyStarted",(function(){e.setState({hasGameAlreadyStarted:!0})})),this.props.socket.on("userConnected",(function(t){e.setState({type:t.type}),"Host"===t.type&&(e.props.socket.on("notifyHostConnection",(function(t){var a=e.state.PcsStatus,n={user:t,ready:!1,numTickets:0};a.push(n),e.setState({PcsStatus:a}),e.props.socket.emit("PcsStatus",t,a)})),e.props.socket.on("PcReady",(function(t,a){for(var n=e.state.PcsStatus,r=0;r<n.length;++r)n[r].user.id===t.id&&(n[r].ready=!0,n[r].numTickets=a);e.setState({PcsStatus:n}),e.props.socket.emit("PcsStatus",t,n)})),e.props.socket.on("userDisconnect",(function(t){for(var a=e.state.PcsStatus,n=0;n<a.length;++n)a[n].user.id===t.id&&a.splice(n,1);e.setState({PcsStatus:a}),e.props.socket.emit("PcsStatus",t,a)})))})),this.props.socket.on("HostConfigDone",(function(t){e.setState({awards:t,readyHost:!0})})),this.props.socket.on("PcsStatus",(function(t){e.setState({PcsStatus:t})})),this.props.socket.on("HostDisconnected",(function(t){console.log(t,": host disconnected"),e.setState({hostDisconnected:!0})}))}},{key:"render",value:function(){var e=this;if(this.state.hostDisconnected)return n.createElement("div",{className:"nohostleft"},n.createElement("h1",{className:"host-configuration"},"Host left the game. Please close this tab. Generate a new room if you want to play more."),n.createElement("a",{href:"/",className:"linkbtn"},n.createElement("button",{className:"btn"},"Back")));if(this.state.hasGameAlreadyStarted||this.state.readyHost&&!this.state.readyClient)return n.createElement("div",{className:"gamestartedplaynext"},n.createElement("h1",{className:"host-configuration"},"This game was started without you. You can play in the next game. Meanwhile you can go back to the home screen and play another game :)"),n.createElement("a",{href:"/",className:"linkbtn"},n.createElement("button",{className:"btn"},"Home")));var t=null;return this.state.readyHost&&this.state.readyClient?t=n.createElement(Y,{socket:this.props.socket,numHouses:this.state.numHouses,name:this.props.name,type:this.state.type,awards:this.state.awards,runWalkthrough:this.state.runWalkthrough}):"Host"===this.state.type?t=n.createElement("div",{className:"config-container"},n.createElement(L,{playerType:"Host",type:"config",runWalkthrough:this.state.runWalkthrough}),n.createElement(V,{message:"Share this 'join code' with other players",actionText:"Copy code"}),n.createElement(q,{message:"There are no players in the game right now",isShown:this.state.isToastOpen,handleClose:function(){e.setState({isToastOpen:!1})},initiallyHidden:this.hideToastInitially}),this.state.isModalOpen?n.createElement("div",{"modal-status":this.state.watchTutorialModal,className:"modalpoppup"},n.createElement("div",{className:"area"},n.createElement("ul",{className:"circles"},this.loopfun(10))),n.createElement("div",{className:"modalpoppupcontent"},n.createElement("h3",{style:{color:"#000000"}},"Some players are still not ready."),n.createElement("h3",{style:{color:"#000000"}},"Are you sure you want to start the game?"),n.createElement("div",{className:"modal-buttons"},n.createElement("button",{style:{margin:5},className:"btn btn__primary",onClick:this.handlleHostConfigDone},"Yes"),n.createElement("button",{style:{margin:5},className:"btn",onClick:function(){e.setState({isModalOpen:!1})}},"No")))):null,n.createElement("h1",{className:"host-configuration"},"Game Setup"),n.createElement(w,{awards:this.state.awards,handleChangeHost:this.handleChangeHost,handleAddRow:this.handleAddRow,handleRemoveRow:this.handleRemoveRow,handleRemoveSpecificRow:this.handleRemoveSpecificRow,handleSubmit:this.handleSubmit}),n.createElement(U,{players:this.state.PcsStatus})):"PC"===this.state.type&&(t=n.createElement("div",{className:"config-container"},n.createElement(L,{playerType:"PC",type:"config",runWalkthrough:this.state.runWalkthrough}),n.createElement("h1",{className:"pc-configuration"},"Player Setup"),n.createElement("form",{onSubmit:this.handleSubmit},n.createElement("table",{className:"config-table",id:"pc-config-table"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"number-tickets"},"Number of Tickets:"),n.createElement("td",null,n.createElement("input",{type:"number",max:"6",min:"1",value:this.state.numHouses,onChange:this.handleChangePC,required:!0}))),n.createElement("tr",null,n.createElement("td",{className:"waiting-message-tickets"},"Waiting for host to start the game"),n.createElement("td",null,n.createElement("button",{className:"ready btn btn__primary",type:"submit"},"Ready")))))),n.createElement(U,{players:this.state.PcsStatus}))),n.createElement(n.Fragment,null,t,this.state.watchTutorialModal?n.createElement("div",{"modal-status":this.state.watchTutorialModal,className:"modalpoppup"},n.createElement("div",{className:"area"},n.createElement("ul",{className:"circles"},this.loopfun(10))),n.createElement("div",{className:"modalpoppupcontent"},n.createElement("h3",{style:{color:"#000000"}},"Would you like to watch tutorial?"),n.createElement("div",{className:"modal-buttons"},n.createElement("button",{style:{margin:5},className:"btn btn__primary",onClick:function(){e.setState({runWalkthrough:!0,watchTutorialModal:!1}),console.log("clicked yes")}},"Yes"),n.createElement("button",{style:{margin:5},className:"btn",onClick:function(){console.log("clicked No"),e.setState({runWalkthrough:!1,watchTutorialModal:!1})}},"No")))):null)}}]),a}(n.Component),J=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;""!==t?n.setState({isEmpty:!1,name:t}):n.setState({isEmpty:!0,name:t})},n.handleKeyPress=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&(console.log("enter press here!"),n.setState({submitted:!0}))},n.handleSubmit=function(e){n.setState({submitted:!0}),e.preventDefault()},n.state={isEmpty:!0,name:"",submitted:!1},n}return Object(p.a)(a,[{key:"render",value:function(){if(this.state.submitted)return n.createElement(K,{socket:this.props.socket,name:this.state.name});var e={};e=this.state.isEmpty?{visibility:"hidden"}:{visibility:"visible"};var t=n.createElement("div",{style:e},n.createElement("button",{className:"btn btn__primary",onClick:this.handleSubmit},n.createElement("p",null,"OK")));return n.createElement("div",{className:"enter-name-container"},n.createElement("div",{className:"enter-name"},n.createElement("p",{className:"enter-name-question"},"Hi. What's your name?"),n.createElement("input",{id:"enter-name",type:"text",value:this.state.name,placeholder:"Type your answer here...",onChange:this.handleChange,onKeyPress:this.handleKeyPress,spellCheck:"false",autoFocus:!0}),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),t))}}]),a}(n.Component),Q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loopfun=function(e){for(var t=[],a=0;a<e;a++)t.push(r.a.createElement("li",null));return t},n.state={socket:y()()},console.log(n.state.socket),n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"area"},r.a.createElement("ul",{className:"circles"},this.loopfun(10))),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"homeclick"},r.a.createElement("a",{href:"/",style:{color:"#000000",textDecoration:"none"},title:"home"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon s-ion-icon",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z"}),r.a.createElement("path",{d:"M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"})))),r.a.createElement(J,{socket:this.state.socket})))}}]),a}(n.Component);window.addEventListener("beforeunload",h),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.7169edbd.chunk.js.map